{
  "Name": "获取一级编码将要添加编码号",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "材料类型",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "行数",
      "TableValue": {
        "TableName": "一级编码",
        "TableValueType": 3,
        "SqlCondition": {
          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
          "CompareType": 2,
          "ColumnBindingInfo": {
            "TableName": "一级编码",
            "ColumnName": "编码全名",
            "GUID": "f8cac3f2-55bf-4e7c-a11e-7a7d27857095"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=材料类型"
          }
        }
      },
      "ID": "69aaa8c369334fdbbfc11a4e6f599035"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=行数"
              }
            },
            "value": "0",
            "compareType": 2
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "最大编码号",
              "TableValue": {
                "TableName": "一级编码",
                "OnlyGetValue": true,
                "TableValueType": 0,
                "BindingInfos": [
                  {
                    "GUID": "2c13055b-64a6-4768-8acf-3a0bc651075a",
                    "BindingInfo": {
                      "TableName": "一级编码",
                      "ColumnName": "最大编码号",
                      "GUID": "d96090f5-7b8b-4345-89a0-bb882fb3b7ef"
                    },
                    "ColumnName": "最大编码号"
                  }
                ],
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                  "CompareType": 2,
                  "ColumnBindingInfo": {
                    "TableName": "一级编码",
                    "ColumnName": "编码全名",
                    "GUID": "762068d1-07fb-479c-a2f8-40734949a183"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=材料类型"
                  }
                }
              },
              "ID": "2d45a8cc960944c8a134deea13072114"
            },
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "Message": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=最大编码号+1&\"\""
              }
            }
          ],
          "ID": "98a56cd4-ea04-4b12-9e52-777e6295956f"
        },
        {
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "Message": "1"
            }
          ],
          "ID": "2e468269-d9d8-4ee4-85a6-df28d882e7cf"
        }
      ]
    }
  ]
}