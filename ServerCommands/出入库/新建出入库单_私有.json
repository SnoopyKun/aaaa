{
  "$type": "Forguncy.SaveLoad.ServerCommandSaveData, ServerDesignerCommon",
  "Name": "新建出入库单_私有",
  "Description": "通过参数决定是否检查盘点中，结束盘点 命令也会调用",
  "Enabled": true,
  "Triggers": {
    "$type": "System.Collections.Generic.List`1[[Forguncy.SaveLoad.TriggerSaveDataBase, ServerDesignerCommon]], System.Private.CoreLib",
    "$values": [
      {
        "$type": "Forguncy.SaveLoad.InvokeTriggerSaveData, ServerDesignerCommon",
        "Parameters": {
          "$type": "System.Collections.Generic.List`1[[Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon]], System.Private.CoreLib",
          "$values": [
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "出入库",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "日期",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "类型",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "客户ID",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "其他出入库对象",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "联系人",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "联系电话",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "总金额",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "项目ID",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "备注",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "详情表",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            },
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "是否提交审核",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              }
            }
          ]
        },
        "InvokeTriggerTestData": {
          "$type": "Forguncy.SaveLoad.InvokeTriggerTestDataSaveData, ServerDesignerCommon",
          "UserName": "Administrator"
        }
      }
    ]
  },
  "Commands": {
    "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
    "$values": [
      {
        "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
        "CommandList": {
          "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
          "$values": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "出入库表",
              "UpdateType": "add",
              "ShowConfirm": false,
              "UpdateBindingValues": {
                "$type": "System.Collections.Generic.List`1[[Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "出入库",
                      "GUID": "3872ee09-2a42-41a0-946c-b4ff3daab962"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=出入库"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "日期",
                      "GUID": "e7a05423-377c-4e62-a109-a663697e178c"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=日期"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "类型",
                      "GUID": "6dbc25eb-1270-4410-8325-40e250040e85"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=类型"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "供应商_客户ID",
                      "GUID": "f2aa4dd3-91a4-442e-8620-235b557d1e8c"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=客户ID"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "其他出入库对象",
                      "GUID": "96ef469e-6154-4161-8ed2-1a5f0e1a5954"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=其他出入库对象"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "联系人",
                      "GUID": "2c09a91a-168c-4925-a859-4c33db3f67cd"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=联系人"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "联系电话",
                      "GUID": "2fad8584-5bca-464a-bced-bf9a8ea99080"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=联系电话"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "总金额",
                      "GUID": "86b2a0c7-02eb-4016-95e8-984d39ba4aba"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=总金额"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "项目ID",
                      "GUID": "2d94b8ce-f1cc-4a4a-8ddc-f5d603e3ff3d"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=项目ID"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "备注",
                      "GUID": "ebc0f090-4c40-4977-b7dc-4fef2abc776c"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=备注"
                    }
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "经办人",
                      "GUID": "780c95bf-abeb-4ade-99d8-d2c6be959a70"
                    },
                    "Value": "%CurrentUser%"
                  },
                  {
                    "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                    "BindingInfo": {
                      "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                      "TableName": "出入库表",
                      "ColumnName": "审核状态",
                      "GUID": "9936ded3-ca45-40be-ba78-4159a337b113"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=1"
                    }
                  }
                ]
              },
              "ParamNameToSaveNewRowValue": "出入库单"
            },
            {
              "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
              "LoopInfo": {
                "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
                "LoopCount": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=详情表"
                },
                "LoopItemParamName": "item"
              },
              "CommandList": {
                "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                    "TableName": "出入库详情表",
                    "UpdateType": "add",
                    "ShowConfirm": false,
                    "UpdateBindingValues": {
                      "$type": "System.Collections.Generic.List`1[[Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon]], System.Private.CoreLib",
                      "$values": [
                        {
                          "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                          "BindingInfo": {
                            "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                            "TableName": "出入库详情表",
                            "ColumnName": "出入库ID",
                            "GUID": "46cadad4-55ca-4f8a-a6c6-2ffeef018d8b"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=出入库单.ID"
                          }
                        },
                        {
                          "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                          "BindingInfo": {
                            "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                            "TableName": "出入库详情表",
                            "ColumnName": "物品ID",
                            "GUID": "9c7cf65f-614f-4884-a4b7-ea5c74d3d99b"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=item.物品ID"
                          }
                        },
                        {
                          "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                          "BindingInfo": {
                            "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                            "TableName": "出入库详情表",
                            "ColumnName": "数量",
                            "GUID": "71736f3a-31c9-485f-a2c8-299f4a646de3"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=item.数量"
                          }
                        },
                        {
                          "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                          "BindingInfo": {
                            "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                            "TableName": "出入库详情表",
                            "ColumnName": "单价",
                            "GUID": "8166e2cd-67cd-43f4-9480-9f9783001798"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=item.单价"
                          }
                        },
                        {
                          "$type": "Forguncy.Model.UpdateBindingValueItem, ServerDesignerCommon",
                          "BindingInfo": {
                            "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                            "TableName": "出入库详情表",
                            "ColumnName": "备注",
                            "GUID": "4afe4d35-4a55-4a86-aecf-9c14b57c1ae2"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=item.备注"
                          }
                        }
                      ]
                    },
                    "ParamNameToSaveNewRowValue": ""
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
        "ConditionAndCommandPairList": {
          "$type": "System.Collections.Generic.List`1[[Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon]], System.Private.CoreLib",
          "$values": [
            {
              "$type": "Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon",
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=是否提交审核"
                  }
                },
                "value": "是"
              },
              "CommandList": {
                "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                    "ServerCommandName": "提交审核申请",
                    "Parameters": {
                      "$type": "System.Collections.Generic.List`1[[Forguncy.Model.RequestServerCommandParamBase, ServerDesignerCommon]], System.Private.CoreLib",
                      "$values": [
                        {
                          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                          "ParamName": "审核类型",
                          "Value": "出入库"
                        },
                        {
                          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                          "ParamName": "业务单ID",
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=出入库单.ID"
                          }
                        }
                      ]
                    },
                    "RefreshAfterFinish": true,
                    "CheckDataValidation": true
                  }
                ]
              },
              "ID": "d351d159-25e2-47c1-9268-653e052edb61"
            }
          ]
        }
      },
      {
        "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
        "CustomReturns": {
          "$type": "System.Collections.Generic.List`1[[Forguncy.Model.CustomReturns, ServerDesignerCommon]], System.Private.CoreLib",
          "$values": [
            {
              "$type": "Forguncy.Model.CustomReturns, ServerDesignerCommon",
              "ReturnPropertyName": "出入库单ID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=出入库单.ID"
              }
            }
          ]
        }
      }
    ]
  },
  "ReturnProperties": {
    "$type": "System.Collections.Generic.List`1[[Forguncy.SaveLoad.ReturnPropertySaveData, ServerDesignerCommon]], System.Private.CoreLib",
    "$values": [
      {
        "$type": "Forguncy.SaveLoad.ReturnPropertySaveData, ServerDesignerCommon",
        "Name": "出入库单ID"
      }
    ]
  }
}