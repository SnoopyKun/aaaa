{
  "$type": "Forguncy.SaveLoad.ServerCommandSaveData, ServerDesignerCommon",
  "Name": "删除物品",
  "Enabled": true,
  "Triggers": {
    "$type": "System.Collections.Generic.List`1[[Forguncy.SaveLoad.TriggerSaveDataBase, ServerDesignerCommon]], System.Private.CoreLib",
    "$values": [
      {
        "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
        "Permission": {
          "$type": "Forguncy.SaveLoad.ServerCommandPermissionSaveData, ServerDesignerCommon",
          "PermissionData": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
            "permissionResource": {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
            },
            "permissionBindings": {
              "$type": "System.Collections.Generic.List`1[[Forguncy.RbacPermission.Core.Impl.ServerCommand.IServerCommandPermissionBinding, Forguncy.RbacPermission.Core]], System.Private.CoreLib",
              "$values": [
                {
                  "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
                  "roleNames": {
                    "$type": "System.Collections.Generic.List`1[[System.String, System.Private.CoreLib]], System.Private.CoreLib",
                    "$values": [
                      "采购员",
                      "采购主管",
                      "仓库主管",
                      "库存管理员",
                      "Administrator",
                      "FGC_LoginUser"
                    ]
                  }
                }
              ]
            }
          }
        },
        "Parameters": {
          "$type": "System.Collections.Generic.List`1[[Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon]], System.Private.CoreLib",
          "$values": [
            {
              "$type": "Forguncy.SaveLoad.PostRequestParameterSaveData, ServerDesignerCommon",
              "Name": "物品ID",
              "DataValidationInfo": {
                "$type": "Forguncy.SaveLoad.DataValidationInfoSaveData, ServerDesignerCommon"
              },
              "TestData": "3"
            }
          ]
        },
        "InvokeTriggerTestData": {
          "$type": "Forguncy.SaveLoad.InvokeTriggerTestDataSaveData, ServerDesignerCommon",
          "UserName": "Administrator"
        }
      }
    ]
  },
  "Commands": {
    "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
    "$values": [
      {
        "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
        "CommandList": {
          "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
          "$values": [
            {
              "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
              "ServerCommandName": "检查是否盘点中",
              "ResultErrorCodeTo": {
                "$type": "Forguncy.Common.FormulaCellLocation, ServerDesignerCommon",
                "SerializeProperty": "盘点返回码"
              },
              "ResultMessageTo": {
                "$type": "Forguncy.Common.FormulaCellLocation, ServerDesignerCommon",
                "SerializeProperty": "盘点返回信息"
              },
              "CheckDataValidation": true
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": {
                "$type": "System.Collections.Generic.List`1[[Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon",
                    "Condition": {
                      "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                      "param": {
                        "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                        "ParamObject": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=盘点返回码"
                        }
                      },
                      "value": "0",
                      "compareType": 1
                    },
                    "CommandList": {
                      "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
                      "$values": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=盘点返回码"
                          },
                          "Message": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=盘点返回信息"
                          }
                        }
                      ]
                    },
                    "ID": "0d815c86-23f0-497f-a40b-fdc568e7072c"
                  }
                ]
              }
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "采购数",
              "TableValue": {
                "$type": "Forguncy.Model.Commands.ParameterTableValue, ServerDesignerCommon",
                "TableName": "采购订单详情表",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                    "TableName": "采购订单详情表",
                    "ColumnName": "物品ID",
                    "GUID": "95dba45f-d43d-459e-9c64-82b029530115"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=物品ID"
                  }
                }
              },
              "ID": "9ec9d1f56127457192302c07df928cbc"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": {
                "$type": "System.Collections.Generic.List`1[[Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon",
                    "Condition": {
                      "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                      "param": {
                        "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                        "ParamObject": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=采购数"
                        }
                      },
                      "value": "0",
                      "compareType": 2
                    },
                    "CommandList": {
                      "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
                      "$values": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "1",
                          "Message": "已选物品已被采购单包含，请先将这些单据中对应的物品删除。"
                        }
                      ]
                    },
                    "ID": "4fa8f5e9-05b0-4d7c-8187-4b780daa2307"
                  }
                ]
              }
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "销售数",
              "TableValue": {
                "$type": "Forguncy.Model.Commands.ParameterTableValue, ServerDesignerCommon",
                "TableName": "销售订单详情表",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                    "TableName": "销售订单详情表",
                    "ColumnName": "物品ID",
                    "GUID": "7bd4ff6f-232a-4ace-9fd6-46770be2aadb"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=物品ID"
                  }
                }
              },
              "ID": "5affcdc88250421fa2c962419cd3a7f9"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": {
                "$type": "System.Collections.Generic.List`1[[Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon",
                    "Condition": {
                      "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                      "param": {
                        "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                        "ParamObject": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=销售数"
                        }
                      },
                      "value": "0",
                      "compareType": 2
                    },
                    "CommandList": {
                      "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
                      "$values": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "1",
                          "Message": "已选物品已被销售单包含，请先将这些单据中对应的物品删除。"
                        }
                      ]
                    },
                    "ID": "117c4449-fc9e-47de-99ed-ad84d9262de5"
                  }
                ]
              }
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "出入库数",
              "TableValue": {
                "$type": "Forguncy.Model.Commands.ParameterTableValue, ServerDesignerCommon",
                "TableName": "出入库详情表",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                    "TableName": "出入库详情表",
                    "ColumnName": "物品ID",
                    "GUID": "b16cf20f-3170-47b7-ae53-32c92f8fffdb"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=物品ID"
                  }
                }
              },
              "ID": "50f450378a6c4c079f14487810618aff"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": {
                "$type": "System.Collections.Generic.List`1[[Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon",
                    "Condition": {
                      "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                      "param": {
                        "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                        "ParamObject": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=出入库数"
                        }
                      },
                      "value": "0",
                      "compareType": 2
                    },
                    "CommandList": {
                      "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
                      "$values": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "1",
                          "Message": "已选物品已被出入库单包含，请先将这些单据中对应的物品删除。"
                        }
                      ]
                    },
                    "ID": "5f26d19c-4faa-4897-84fa-95dc5930096a"
                  }
                ]
              }
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "盘点数",
              "TableValue": {
                "$type": "Forguncy.Model.Commands.ParameterTableValue, ServerDesignerCommon",
                "TableName": "盘点详情表",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                    "TableName": "盘点详情表",
                    "ColumnName": "物品ID",
                    "GUID": "c5e90812-f230-4c6a-a1be-857f137fa549"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=物品ID"
                  }
                }
              },
              "ID": "9e8d7d69416e451b91c0458f35964b50"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": {
                "$type": "System.Collections.Generic.List`1[[Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon]], System.Private.CoreLib",
                "$values": [
                  {
                    "$type": "Forguncy.Model.ConditionAndCommandPair, ServerDesignerCommon",
                    "Condition": {
                      "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                      "param": {
                        "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                        "ParamObject": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=盘点数"
                        }
                      },
                      "value": "0",
                      "compareType": 2
                    },
                    "CommandList": {
                      "$type": "System.Collections.Generic.List`1[[GrapeCity.Forguncy.Commands.Command, Forguncy.Commands]], System.Private.CoreLib",
                      "$values": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "1",
                          "Message": "已选物品已被盘点单包含，请先将这些单据中对应的物品删除。"
                        }
                      ]
                    },
                    "ID": "86a3d441-8ed3-469b-8af4-c1774ba9eebe"
                  }
                ]
              }
            },
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "供应商客户物品相关表",
              "UpdateType": "delete",
              "ShowConfirm": true,
              "ConfirmText": "您确定要删除吗？",
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                  "TableName": "供应商客户物品相关表",
                  "ColumnName": "物品ID",
                  "GUID": "ec2bb7cb-4871-4a24-816f-03aedc3a7794"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=物品ID"
                }
              },
              "ParamNameToSaveNewRowValue": "NewRow"
            },
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "物品表",
              "UpdateType": "delete",
              "ShowConfirm": true,
              "ConfirmText": "您确定要删除吗？",
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "$type": "ForguncyDataAccess.BindingInfo, ForguncyDataAccess",
                  "TableName": "物品表",
                  "ColumnName": "ID",
                  "GUID": "69f5a2e6-65fe-4c6c-b76e-c3938835e416"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=物品ID"
                }
              },
              "ParamNameToSaveNewRowValue": "NewRow"
            }
          ]
        }
      }
    ]
  }
}